depends what you mean by immunity - no one has full sterilizing immunity, you are right that prior infection is not very effective at preventing re-infection with omicron, but I am sure you also know vaccine is not very effective at preventing breakthrough infections.